:root{--bg:#0a0a0a;--card:#121212;--text:#eaeaea;--muted:#9aa0a6;--accent:#8ef;--packW: 420px;--packH: calc(var(--packW) * 1.4286);--cardW: 320px;--cardH: calc(var(--cardW) * 1.4);--trayCardW: 180px;--trayCardH: calc(var(--trayCardW) * 1.4);--stageMinH: 640px}:root{--trayGapX: 16px;--trayGapY: 12px}*{box-sizing:border-box}body{font-family:ui-sans-serif,system-ui,-apple-system,Inter,Roboto,Arial,sans-serif;background:var(--bg);color:var(--text);margin:0}.widget.widget--wide{width:min(1080px,100%);margin:6vh auto;background:var(--card);border:1px solid #222;border-radius:12px;padding:16px}.header{display:flex;align-items:center;gap:10px;margin-bottom:8px}.balance{margin-left:auto;color:var(--muted)}.pack-card{display:grid;grid-template-columns:1fr auto;gap:12px;align-items:center;padding:12px;border:1px solid #222;border-radius:10px;margin:14px 0;background:#0e0e0e}.pack-meta-title{font-weight:700}.pack-meta-sub{color:var(--muted)}button.open{padding:.6rem 1rem;border-radius:9px;border:1px solid #2a2a2a;background:#151515;color:var(--text);cursor:pointer;font-weight:700;transition:transform .12s ease,opacity .12s ease,background .12s ease}button.open:hover{transform:translateY(-1px)}button.open:active{transform:translateY(0) scale(.98)}button.open:disabled{opacity:.6;cursor:not-allowed}.results{display:flex;gap:12px;margin-top:16px;flex-wrap:wrap}.item{width:120px;height:160px;border-radius:12px;position:relative;overflow:hidden;background:#0c0c0c;border:1px solid #333;display:flex;align-items:center;justify-content:center}.item-inner{position:absolute;top:1px;right:1px;bottom:1px;left:1px;border-radius:11px;background:#0d0d0d;display:flex;flex-direction:column;align-items:center;justify-content:center;padding:8px;text-align:center}.item .tag{position:absolute;top:6px;left:6px;font-size:12px;color:#fff;padding:2px 6px;border-radius:999px}.tag.common{background:#64748b}.tag.rare{background:#3b82f6}.tag.epic{background:#a855f7}.tag.legendary{background:#f59e0b}.rarity-frame{position:absolute;top:0;right:0;bottom:0;left:0;border-radius:12px;pointer-events:none;box-shadow:0 0 0 1px #ffffff0f inset}.rarity-frame.common{box-shadow:0 0 0 1px #ffffff0f inset,0 0 18px #64748b2e}.rarity-frame.rare{box-shadow:0 0 0 1px #3b82f659 inset,0 0 26px #3b82f63d}.rarity-frame.epic{box-shadow:0 0 0 1px #a855f759 inset,0 0 28px #a855f742}.rarity-frame.legendary{box-shadow:0 0 0 1px #f59e0b66 inset,0 0 32px #f59e0b47}.item:before{content:"";position:absolute;top:-20%;right:-20%;bottom:-20%;left:-20%;background:linear-gradient(120deg,transparent 40%,rgba(255,255,255,.06) 50%,transparent 60%);transform:translate(-60%) rotate(12deg);animation:shine 2.4s ease-in-out infinite}@keyframes shine{0%{transform:translate(-60%) rotate(12deg)}60%{transform:translate(40%) rotate(12deg)}to{transform:translate(40%) rotate(12deg)}}.spin{width:96px;height:96px;border-radius:999px;border:4px solid #1e293b;border-top-color:var(--accent);animation:spin 1s linear infinite}@keyframes spin{to{transform:rotate(360deg)}}.coin-pop{position:absolute;top:-8px;left:50%;transform:translate(-50%,-10px);background:#111;color:#ffd166;border:1px solid rgba(255,209,102,.25);padding:4px 8px;border-radius:999px;font-size:12px;font-weight:700;box-shadow:0 6px 18px #00000073}.toast{margin-top:12px;padding:10px 12px;border-radius:8px;border:1px solid #4a1d1d;background:#2a1111;color:#ffb4b4}.item-id{font-size:12px;color:var(--muted)}.item-name{font-weight:700;margin-top:2px}.item-sub{margin-top:6px;font-size:12px;color:#f59e0b}.stage{position:relative;overflow:visible}.opener-overlay{position:fixed;top:0;right:0;bottom:0;left:0;pointer-events:none;background:radial-gradient(1200px 800px at 50% 65%,rgba(142,238,255,.1),transparent 60%),radial-gradient(900px 600px at 50% 120%,#000000a6,#000000d9);z-index:999}.foil-pack{position:fixed;left:50%;top:50%;width:clamp(220px,35vw,360px);height:calc(clamp(220px,35vw,360px)*1.35);transform:translate(-50%,-50%);border-radius:14px;background:linear-gradient(135deg,#0b0f16,#121a24 60%,#0e131a),radial-gradient(100% 100% at 0% 0%,rgba(142,238,255,.25),transparent 45%),radial-gradient(100% 100% at 100% 0%,rgba(168,85,247,.2),transparent 45%),radial-gradient(60% 70% at 50% 120%,rgba(245,158,11,.2),transparent 60%);border:1px solid #1f2a37;box-shadow:0 0 0 1px #ffffff08 inset,0 18px 60px #0009,0 0 120px #8eeeff1a;overflow:hidden;z-index:1000;will-change:transform,filter}.foil-pack:after{content:"";position:absolute;top:-20%;right:-20%;bottom:-20%;left:-20%;background:linear-gradient(60deg,#fff0 35%,#ffffff12,#fff0 55%);transform:translate(-60%) rotate(8deg);animation:sheen 1.6s ease-in-out infinite;pointer-events:none}@keyframes sheen{0%{transform:translate(-60%) rotate(8deg)}to{transform:translate(60%) rotate(8deg)}}.burst{position:fixed;left:50%;top:50%;width:900px;height:900px;transform:translate(-50%,-50%);background:radial-gradient(closest-side,rgba(255,255,255,.85),rgba(255,255,255,.2) 45%,transparent 60%),radial-gradient(closest-side,rgba(142,238,255,.35),transparent 60%);filter:blur(2px) saturate(1.15);mix-blend-mode:screen;pointer-events:none;z-index:1002}.particles{position:fixed;top:0;right:0;bottom:0;left:0;pointer-events:none;z-index:1001}.particle{position:absolute;width:6px;height:6px;border-radius:999px;background:#8ef;box-shadow:0 0 10px #8ef,0 0 24px #8eeeff99;opacity:.9}.results.results--cinematic{justify-content:center}.item{perspective:1000px}.item-inner{width:100%;height:100%;transform-style:preserve-3d;border-radius:10px;overflow:hidden}.item-face{position:absolute;top:0;right:0;bottom:0;left:0;display:flex;align-items:center;justify-content:center;backface-visibility:hidden;border:1px solid #2d3440;background:linear-gradient(180deg,#0e141b,#0b0f14)}.item-back{transform:rotateY(180deg);background:radial-gradient(40% 40% at 50% 35%,rgba(142,238,255,.12),transparent 60%),linear-gradient(180deg,#0f1520,#0a0e14);border:1px solid #202733}.item.aura--common{box-shadow:0 0 0 1px #2b3645 inset,0 0 28px #64748b47}.item.aura--rare{box-shadow:0 0 0 1px #2b3f6b inset,0 0 40px #3b82f659}.item.aura--epic{box-shadow:0 0 0 1px #3a2a5e inset,0 0 46px #a855f766}.item.aura--legendary{box-shadow:0 0 0 1px #4a3613 inset,0 0 60px #f59e0b73}.item .tag{text-transform:capitalize;letter-spacing:.2px}.item.revealed:hover .item-inner{transform:translateZ(6px) rotateX(2deg) rotateY(-2deg);transition:transform .18s ease}.tear-strip{position:absolute;top:-10px;width:min(340px,70vw);height:160px;background:url(/assets/tear-strip.png) center/contain no-repeat;pointer-events:none}.stack{position:absolute;bottom:40px;display:grid;place-items:center;perspective:1200px}.card3d{width:220px;height:308px;position:absolute;border-radius:12px;transform-style:preserve-3d;cursor:pointer}.card-face{position:absolute;top:0;right:0;bottom:0;left:0;backface-visibility:hidden;border-radius:12px;overflow:hidden;border:1px solid #2a2a2a}.card-back{background:#0f172a url(/assets/card-back.png) center/cover no-repeat}.card-front{background:#0f172a url(/assets/card-front.png) center/cover no-repeat}.card-front .meta{position:absolute;inset:auto 10px 10px 10px;font-size:12px;color:var(--muted)}.badge{position:absolute;top:8px;left:8px;font-size:11px;padding:2px 6px;border-radius:999px;color:#fff}.badge.common{background:#64748b}.badge.rare{background:#3b82f6}.badge.epic{background:#a855f7}.badge.legendary{background:#f59e0b}.controls{margin-top:10px;display:flex;justify-content:space-between;align-items:center}.link-skip{color:var(--muted);font-size:12px;cursor:pointer}.cta{padding:.6rem 1rem;border-radius:9px;border:1px solid #2a2a2a;background:#151515;color:var(--text);cursor:pointer;font-weight:700}.cta:disabled{opacity:.6;cursor:not-allowed}.card-stage{position:relative;min-height:var(--stageMinH);margin-top:16px}.card-stage--tall{min-height:var(--stageMinH)}.stage-center{position:absolute;top:0;right:0;bottom:0;left:0;display:grid;place-items:center}.stage-anchor{position:relative;width:var(--packW);height:var(--packH);transform:translateZ(0);isolation:isolate}.pack-wrap{position:absolute;top:0;right:0;bottom:0;left:0;display:flex;align-items:center;justify-content:center;z-index:10;pointer-events:none}.pack-img{width:var(--packW);height:var(--packH);object-fit:cover;filter:drop-shadow(0 20px 40px rgba(0,0,0,.45));pointer-events:none}.card-stack{position:absolute;top:0;right:0;bottom:0;left:0;z-index:20;pointer-events:auto}.card-abs{position:absolute;top:0;right:0;bottom:0;left:0;margin:auto;width:var(--cardW);height:var(--cardH);border-radius:14px;overflow:hidden;background:#0b0b0b;border:1px solid #222}.card-anim{width:100%;height:100%;will-change:transform}.card-img{position:absolute;top:0;right:0;bottom:0;left:0;width:100%;height:100%;object-fit:cover;pointer-events:none}.card-tag{position:absolute;top:8px;left:8px;text-transform:capitalize}.tear-hint{position:absolute;top:16px;right:18px;font-size:12px;color:#9aa0a6;background:#14141499;padding:6px 8px;border-radius:8px;border:1px solid #2a2a2a}.tray-wrap{position:absolute;top:0;right:0;bottom:0;left:0;display:flex;align-items:center;justify-content:center;z-index:30}.tray-grid{display:grid;grid-template-columns:repeat(3,var(--trayCardW));grid-auto-rows:var(--trayCardH);column-gap:var(--trayGapX);row-gap:var(--trayGapY);justify-items:center;align-items:center;padding:0;margin:0}.tray-card{width:var(--trayCardW);height:var(--trayCardH);border-radius:12px;border:1px solid #2a2a2a;background:#0d0d0d;overflow:hidden;padding:0;cursor:pointer}.tray-card img{width:100%;height:100%;object-fit:cover;display:block}.tray-card[data-pos="1"]{grid-column:1;grid-row:1}.tray-card[data-pos="2"]{grid-column:2;grid-row:1}.tray-card[data-pos="3"]{grid-column:3;grid-row:1}.tray-card[data-pos="4"]{grid-column:1 / span 2;grid-row:2;justify-self:center}.tray-card[data-pos="5"]{grid-column:2 / span 2;grid-row:2;justify-self:center}.tray-actions{display:flex;justify-content:flex-end;margin-top:12px}.tray-wrap.has-preview .tray-card{opacity:.35;filter:saturate(.7);transition:opacity .15s ease,filter .15s ease,transform .15s ease;pointer-events:none;transform:none!important}.tray-wrap.has-preview .tray-card.is-active{opacity:1;filter:none;pointer-events:auto;z-index:50}.btn-primary{padding:.6rem 1rem;border-radius:9px;border:1px solid #2a2a2a;background:#433aef;color:#fff;font-weight:700;cursor:pointer}.btn-primary:disabled{opacity:.6;cursor:not-allowed;filter:saturate(.6)}.revealed-grid{display:grid;grid-template-columns:repeat(5,minmax(0,1fr));gap:10px;margin-top:18px}.revealed-card{aspect-ratio:180/252;border-radius:12px;border:1px solid #2a2a2a;overflow:hidden;background:#0d0d0d}.modal-backdrop{position:fixed;top:0;right:0;bottom:0;left:0;background:#0009;-webkit-backdrop-filter:blur(2px);backdrop-filter:blur(2px);z-index:2000}.modal-card{position:fixed;left:50%;top:50%;transform:translate(-50%,-50%);width:min(520px,92vw);padding:16px;z-index:2001;display:grid;gap:12px}.modal-card-img{width:100%;aspect-ratio:180 / 252;object-fit:cover}.stage-modal-layer{position:absolute;top:0;right:0;bottom:0;left:0;display:grid;place-items:center;z-index:40}.stage-modal-backdrop{position:absolute;top:0;right:0;bottom:0;left:0;z-index:40}.stage-modal-card{position:relative;z-index:42;display:grid;gap:12px;padding:16px;width:min(560px,90%);margin:0}.stage-modal-card.is-compact{width:min(380px,80%)}.stage-modal-card.is-zoomed{width:min(680px,95%)}.stage-modal-img{width:100%;aspect-ratio:5 / 7;object-fit:cover}.stage-actions{display:flex;justify-content:center;margin-top:12px}.stage-anchor .modal-backdrop,.stage-anchor .modal-card{position:absolute!important}.modal-meta{display:flex;justify-content:space-between;align-items:center}.modal-title{font-weight:700}.modal-rarity{text-transform:capitalize;font-size:12px;padding:2px 8px;border-radius:999px;color:#fff}.modal-rarity.common{background:#64748b}.modal-rarity.rare{background:#3b82f6}.modal-rarity.epic{background:#a855f7}.modal-rarity.legendary{background:#f59e0b}.modal-close{justify-self:end;padding:.5rem .9rem;border-radius:9px;border:1px solid #2a2a2a;background:#151515;color:var(--text);cursor:pointer;font-weight:700}
