<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <title>Packs</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
      <title>packs</title>
      <style>
          :root{
              --bg:#000; --card:#000; --text:#eaeaea; --muted:#9aa0a6; --maxw:1200px;
          }
          
          :root {
            --msg-font-size: 11px;
            --msg-line-h: 1.3;
            --msg-vpad: 6px;
            --msg-gap: 6px;
          }
          
          .page {
              height:100%;
              display:grid;
              grid-template-rows:auto 1fr auto;
          }
          main.iframe-shell {
              width:100%;
              height:100dvh;     /* lock to viewport height */
              overflow:hidden;   /* no scroll inside shell */
              background:var(--card);
          }
          main.iframe-shell > iframe {
              display:block;
              width:100%;
              height:100%;       /* fill shell */
              border:0;
              background:#000;
          }
          header, footer {
              display:none;      /* optional: hide header/footer if you want pure fullscreen */
          }
      
            * { margin: 0; padding: 0; box-sizing: border-box; }
            html, body { height: 100%; overflow: hidden; font-family: Arial, sans-serif; background: #000; color: #fff; }
            .container { width: 100vw; height: 100vh; position: relative; }
            #scene-container { position: absolute; inset: 0; z-index: 1; }
            #scene-container canvas { display: block; cursor: pointer; }

            /* Top navigation */
            .top-nav {
              position: fixed; top: 0; left: 0; right: 0; z-index: 100;
              display: flex; justify-content: space-between; align-items: center; padding: 20px;
            }
            .menu-button, .login-button {
              width: 30px; height: 30px;
              background: #000;
              border: 1px solid rgba(255, 255, 255, 0.25);
              border-radius: 50%;
              cursor: pointer;
              display: flex; align-items: center; justify-content: center;
              backdrop-filter: none;
              transition: border-color .2s ease, background .2s ease;
            }
            .menu-button:hover, .login-button:hover {
              border-color: rgba(255, 255, 255, 0.45);
              background: #000;
            }
            .menu-dots { display: flex; gap: 4px; }
            .dot { width: 3px; height: 3px; background: #fff; border-radius: 50%; }
            .user-icon { width: 16px; height: 16px; color: #fff; }
            .user-icon svg { width: 100%; height: 100%; fill: currentColor; }

            /* Menu tray */
            .menu-tray {
              position: fixed; top: 60px; left: 20px; width: 130px;
              background: rgba(255, 255, 255, 0); backdrop-filter: blur(20px);
              border: 1px solid rgba(255,255,255,0.1); border-radius: 12px; z-index: 200;
              transform: translateY(-20px); opacity: 0; visibility: hidden; transition: all .3s ease; padding: 10px 0;
            }
            .menu-tray.open { transform: translateY(0); opacity: 1; visibility: visible; }

            /* Menu items with pill hover */
            .menu-item {
              position: relative;
              display: block;
              width: 100%;
              padding: 6px 15px;
              color: #fff;
              text-decoration: none;
              font-size: 14px;
              font-weight: 300;
              cursor: pointer;
              background: none;
              border: 0;
            }

            .menu-item::before {
              content: "";
              position: absolute;
              inset: 1px;
              left: 8px;
              right: 8px;
              border-radius: 8px;
              background: rgba(255,255,255,0.12);
              opacity: 0;
              transform: scaleY(0.96);
              transition: opacity .15s ease, transform .2s ease;
              pointer-events: none;
            }

            .menu-item:hover::before,
            .menu-item:focus-visible::before {
              opacity: 1;
              transform: scaleY(1);
            }

            .menu-item, .menu-item * {
              position: relative;
              z-index: 1;
            }

            .menu-item .menu-pill {
              background: transparent !important;
              padding: 0 !important;
              border-radius: 0 !important;
            }

            /* Modal overlay + dialog */
            .modal-overlay {
              position: fixed;
              inset: 0;
              background: rgba(0,0,0,0.7);
              z-index: 300;
              display: none;
              align-items: center;
              justify-content: center;
              backdrop-filter: blur(5px);
            }
            .modal-overlay.show {
              display: flex;
            }
            .login-modal {
              background: rgba(0,0,0,0.9);
              backdrop-filter: blur(20px);
              border: 1px solid rgba(255,255,255,0.2);
              border-radius: 16px;
              padding: 15px;
              width: 90%;
              max-width: 400px;
              position: relative;
              color: #fff;
            }
            .modal-close {
              position: absolute;
              top: 8px; right: 15px;
              background: none; border: none;
              color: rgba(255,255,255,0.6);
              font-size: 24px; cursor: pointer;
              width: 30px; height: 30px; border-radius: 50%;
              display: flex; align-items: center; justify-content: center;
              transition: all .2s ease;
            }
            .modal-close:hover { color: #fff; background: none; }
            .modal-title { font-size: 24px; font-weight: 300; margin-bottom: 20px; text-align: center; }
            .modal-tabs { display: flex; gap: 20px; margin-bottom: 20px; justify-content: center; }
            .modal-tab { background: none; border: none; color: rgba(255,255,255,0.6); font-size: 16px; padding: 8px 0; cursor: pointer; border-bottom: 2px solid transparent; transition: all .2s ease; }
            .modal-tab.active { color: #fff; }
            .form-group { margin-bottom: 12px; }
            .form-input {
              width: 100%; background: rgba(255,255,255,0.1);
              border: 1px solid rgba(255,255,255,0.2); border-radius: 8px;
              padding: 12px 15px; color: #fff; font-size: 14px; outline: none;
            }
            .form-input::placeholder { color: rgba(255,255,255,0.5); }
            .form-button {
              width: 100%; background: rgba(255,255,255,0.92); color: #000;
              border: none; border-radius: 8px; padding: 12px; font-size: 14px; font-weight: 500; cursor: pointer;
            }

            /* Chat popup */
            .chatbot-container {
              position: fixed;
              left: 50%;
              transform: translateX(-50%) translateY(8px);
              bottom: calc(var(--chat-toggle-bottom) + var(--chat-toggle-size) + var(--chat-gap));
              z-index: 50;
              opacity: 0;
              visibility: hidden;
              pointer-events: none;
              transition: opacity .25s ease, transform .25s ease, visibility 0s linear .25s;
              width: 300px;
              min-width: 300px;
              max-width: 300px;
              box-sizing: border-box;
              display: flex;
              flex-direction: column;
            }

            .chatbot-container.open {
              opacity: 1;
              transform: translateX(-50%) translateY(0);
              visibility: visible;
              pointer-events: auto;
              transition: opacity .25s ease, transform .25s ease;
            }

          
            .chat-messages {
              display: flex;
              flex-direction: column;
              align-items: flex-start;
              gap: var(--msg-gap);
              height: 72px;
              overflow-y: auto;
              padding-right: 5px;
              margin-bottom: 10px;
            }

            .message {
              display: inline-block;
              width: auto;
              max-width: 85%;
              font-size: var(--msg-font-size);
              line-height: var(--msg-line-h);
              padding: var(--msg-vpad) 10px;
              overflow-wrap: anywhere;
              background: rgba(255,255,255,0.1);
              border-radius: 8px;
              margin-bottom: 6px;
              word-wrap: break-word;
            }
            .message.user { align-self: flex-end; text-align: left; background: rgba(255,255,255,0.2); }
            .message.bot { background: rgba(100,100,100,0.3); }

            .chat-messages::-webkit-scrollbar { width: 4px; }
            .chat-messages::-webkit-scrollbar-track { background: rgba(255,255,255,0.1); border-radius: 2px; }
            .chat-messages::-webkit-scrollbar-thumb { background: rgba(255,255,255,0.3); border-radius: 2px; }
            .chat-input-container {
              display: flex; align-items: center; gap: 8px; background: rgba(255,255,255,0.1);
              border-radius: 8px; padding: 8px 12px; border: 1px solid rgba(255,255,255,0.1);
            }
            .chat-input { flex: 1; background: none; border: none; outline: none; color: #fff; font-size: 12px; }
            .chat-input::placeholder { color: rgba(255,255,255,0.6); }
            .send-button { background: none; border: none; color: rgba(255,255,255,0.8); cursor: pointer; padding: 4px; border-radius: 4px; transition: color .2s ease; display: flex; align-items: center; justify-content: center; }
            .send-button:hover { color: #fff; }
            .send-button svg { width: 14px; height: 14px; }

            /* Chat toggle button */
            :root {
              --chat-toggle-size: 30px;
              --chat-toggle-bottom: 16px;
              --chat-gap: 14px;
            }

            .chat-toggle {
              position: fixed;
              bottom: var(--chat-toggle-bottom);
              left: 50%;
              transform: translateX(-50%);
              z-index: 60;
              width: var(--chat-toggle-size);
              height: var(--chat-toggle-size);
              border-radius: 50%;
              border: 1px solid rgba(255,255,255,0.25);
              background: #000;
              color: white;
              font-size: 12px;
              display: flex; align-items: center; justify-content: center;
              cursor: pointer;
              transition: border-color .2s ease, background .2s ease;
            }

            .chat-toggle:hover { border-color: rgba(255,255,255,0.45); }

            /* Character selector */
            :root {
              --title-width: 240px;
              --arrow-gap: 6px;
              --arrow-size-w: 34px;
              --arrow-size-h: 30px;
              --modal-padding-x: 10px;
            }
            .character-controls { position: fixed; top: 50%; left: 50%; transform: translate(-50%, -50%); z-index: 100; display: none; }
            .character-controls.show { display: block; }
            .character-info {
              background: rgba(0,0,0,0.8);
              backdrop-filter: blur(20px);
              border: 1px solid rgba(255,255,255,0.2);
              border-radius: 10px;
              padding: 8px var(--modal-padding-x);
              width: calc(var(--title-width) + 2 * (var(--arrow-size-w) + var(--arrow-gap)) + 2 * var(--modal-padding-x));
            }
            .character-header {
              display: grid;
              grid-template-columns: var(--arrow-size-w) var(--title-width) var(--arrow-size-w);
              align-items: center; justify-items: center; column-gap: var(--arrow-gap);
            }
            .character-name { font-size: 14px; font-weight: 600; text-align: center; white-space: nowrap; width: var(--title-width); overflow: hidden; text-overflow: ellipsis; line-height: 1; }
            .arrow-btn {
              width: var(--arrow-size-w); height: var(--arrow-size-h);
              border: none; background: none; color: #fff; cursor: pointer;
              display: flex; align-items: center; justify-content: center;
              font-size: 16px; line-height: 1; transition: opacity .2s ease;
            }
            .arrow-btn:hover { opacity: 0.8; }
            .character-actions { display: flex; justify-content: center; margin-top: 8px; }
            .character-confirm { background: rgba(255,255,255,0.92); color: #000; border: none; border-radius: 8px; padding: 6px 12px; font-size: 12px; cursor: pointer; transition: background .2s ease; }
            .character-confirm:hover { background: #fff; }

            @media (max-width: 420px) {
              :root { --arrow-size-w: 30px; --arrow-size-h: 28px; --modal-padding-x: 8px; }
            }

            @media (prefers-reduced-motion: reduce) {
              .chatbot-container { transition: none; transform: translateX(-50%); }
              .chatbot-container.open { transition: none; }
            }
          </style>
        </head>
<body>
  <h1 style="color: white; background: red; padding: 20px;">BASIC TEST</h1>
  
  <iframe
    src="../widget/index.html"
    width="800px"
    height="600px"
    style="border: 5px solid green; display: block; margin: 20px;">
  </iframe>
  
  <p style="color: white; background: blue; padding: 10px;">Text after iframe</p>
</body>
  <div class="page">
    <header></header>

    <main class="iframe-shell">
      <iframe
        id="packsFrame"
        src="../widget/index.html"
        loading="eager"
        scrolling="no"
        referrerpolicy="no-referrer-when-downgrade"
        allow="clipboard-read; clipboard-write">
      </iframe>
    </main>

    <footer>© OUCH — Packs</footer>
  </div>
</body>
</html>
