<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <title>Packs · OUCH</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <style>
    :root{ --bg:#0b0b0b; --card:#141414; --text:#eaeaea; --muted:#9aa0a6; --maxw:1200px; }
    html,body{ margin:0; background:var(--bg); color:var(--text); font-family:system-ui,-apple-system,Inter,Roboto,Arial,sans-serif; }
    .page{ min-height:100svh; display:grid; grid-template-rows:auto 1fr auto; }
    header,footer{ max-width:var(--maxw); margin:0 auto; padding:12px 16px; }
    header{ display:flex; align-items:center; justify-content:space-between; }
    nav a{ color:var(--muted); text-decoration:none; margin-left:16px; }
    nav a[aria-current="page"]{ color:var(--text); font-weight:600; }
    main{ display:grid; place-items:start center; padding:12px 16px 24px; }
    .iframe-shell{
      width:min(var(--maxw),96vw);
      margin:0 auto;
      background:var(--card);
      border:1px solid #1f1f1f; border-radius:12px; overflow:hidden;
      box-shadow:0 20px 60px rgba(0,0,0,.35);
    }
    .iframe-shell > iframe{ display:block; width:100%; height:600px; border:0; background:#000; }
  </style>
</head>
<body>
  <div class="page">
    <header>
      <div class="brand"><a href="/" style="color:inherit;text-decoration:none">OUCH</a></div>
      <nav>
       
        <a href="/packs/" aria-current="page">Packs</a>
      
      </nav>
    </header>

    <main>
      <div class="iframe-shell">
        <!-- Because widget is in the same site, use a RELATIVE src -->
        <!-- Pass your backend origin via ?api=... so the widget knows where to call -->
        <iframe
          id="packsFrame"
          src="/widget/index.html?api=https://backend-o9ot.onrender.com"
          referrerpolicy="no-referrer-when-downgrade"
          allow="clipboard-read; clipboard-write">
        </iframe>
      </div>
    </main>

    <footer>© OUCH — Packs</footer>
  </div>

  <script>
    // Resize the iframe when the widget posts its height
    (function () {
      const frame = document.getElementById('packsFrame');

      function onMessage(e){
        // Optional: enforce same-origin check if you like:
        // if (e.origin !== location.origin) return;
        const data = e.data || {};
        if (data.type === 'packs:height' && typeof data.height === 'number') {
          const h = Math.max(300, Math.min(2000, Math.round(data.height + 4)));
          frame.style.height = h + 'px';
        }
      }
      window.addEventListener('message', onMessage, false);

      // nudge the child to report height on parent resizes
      window.addEventListener('resize', () => {
        frame.contentWindow?.postMessage({ type:'packs:probe' }, '*');
      });
    })();
  </script>
</body>
</html>
